import React, { useState, useEffect, Suspense } from "react";
import { IconButton } from "../IconButton";
import Modal from "react-bootstrap/Modal";
import { CustomButton } from "../CustomButton";
import { AIMusicList } from "./AIMusicList";
import { Spinner } from "react-bootstrap";

export function AIRecommendation({ playlist, width, height }) {
	const [show, setShow] = useState(false);
	const handleClose = () => {
		setShow(false);
	};
	const handleShow = () => setShow(true);

	return (
		<div>
			<IconButton
				icon={<MagicWandIcon width={width} height={height} />}
				onClick={handleShow}
			/>
			<Modal show={show} onHide={handleClose}>
				<Modal.Header closeButton>
					<Modal.Title>AI Recommendation</Modal.Title>
				</Modal.Header>
				<Modal.Body>
					<p>
						Here are some recommendations based on your interests and
						preferences:
					</p>
					<AIMusicList playlist={playlist} />
				</Modal.Body>
				<Modal.Footer>
					<CustomButton text={"Close"} onClick={handleClose} />
				</Modal.Footer>
			</Modal>
		</div>
	);
}

function MagicWandIcon({ width, height }) {
	return (
		<svg
			width={width}
			height={height}
			viewBox="0 0 27 27"
			fill="none"
			xmlns="http://www.w3.org/2000/svg">
			<path
				d="M4.57875 13.14L4.62375 13.23C4.80375 13.5844 5.31563 13.5844 5.49563 13.23L5.54063 13.14C5.72625 12.7744 6.02438 12.4819 6.39 12.2906L6.48 12.2456C6.83438 12.0656 6.83438 11.5538 6.48 11.3737L6.39 11.3287C6.02438 11.1431 5.73188 10.845 5.54063 10.4794L5.49563 10.3894C5.31563 10.035 4.80375 10.035 4.62375 10.3894L4.57875 10.4794C4.39313 10.845 4.095 11.1375 3.72938 11.3287L3.63938 11.3737C3.285 11.5538 3.285 12.0656 3.63938 12.2456L3.72938 12.2906C4.095 12.4763 4.3875 12.7744 4.57875 13.14Z"
				fill="black"
			/>
			<path
				d="M5.55188 7.2675L5.72063 7.35187C6.39 7.695 6.93 8.235 7.27313 8.90438L7.3575 9.07312C7.68938 9.72562 8.62313 9.72562 8.955 9.07312L9.03938 8.90438C9.3825 8.235 9.9225 7.695 10.5919 7.35187L10.7606 7.2675C11.4131 6.93563 11.4131 6.00187 10.7606 5.67L10.5919 5.58563C9.9225 5.2425 9.3825 4.7025 9.03938 4.03313L8.955 3.86437C8.62313 3.21188 7.68938 3.21188 7.3575 3.86437L7.27313 4.03313C6.93 4.7025 6.39 5.2425 5.72063 5.58563L5.55188 5.67C4.89938 6.00187 4.89938 6.93563 5.55188 7.2675Z"
				fill="black"
			/>
			<path
				d="M21.4481 19.7325L21.2794 19.6481C20.61 19.305 20.07 18.765 19.7269 18.0956L19.6425 17.9269C19.3106 17.2744 18.3769 17.2744 18.045 17.9269L17.9606 18.0956C17.6175 18.765 17.0775 19.305 16.4081 19.6481L16.2394 19.7325C15.5869 20.0644 15.5869 20.9981 16.2394 21.33L16.4081 21.4144C17.0775 21.7575 17.6175 22.2975 17.9606 22.9669L18.045 23.1356C18.3769 23.7881 19.3106 23.7881 19.6425 23.1356L19.7269 22.9669C20.07 22.2975 20.61 21.7575 21.2794 21.4144L21.4481 21.33C22.1006 20.9981 22.1006 20.0644 21.4481 19.7325Z"
				fill="black"
			/>
			<path
				d="M22.4494 9.8325L21.8194 9.03937L22.1794 8.055C22.5225 7.12125 22.2975 6.10313 21.5944 5.4C20.8913 4.69688 19.8731 4.47188 18.9394 4.815L17.955 5.175L17.1619 4.545C16.3744 3.92062 15.3281 3.81375 14.4338 4.275C13.5394 4.73625 13.0163 5.64187 13.0613 6.64875L13.1063 7.61625L12.2794 8.16188C11.4469 8.71313 11.025 9.66937 11.1769 10.6537C11.2275 10.9912 11.3456 11.3006 11.5144 11.5762L4.37625 18.9563C3.40313 19.9631 3.41438 21.5887 4.40438 22.5788C4.905 23.0794 5.56875 23.3325 6.2325 23.3325C6.89625 23.3325 7.53188 23.0906 8.02688 22.6125L15.4069 15.4744C15.6825 15.6431 15.9919 15.7613 16.3294 15.8119C16.4644 15.8344 16.5938 15.84 16.7231 15.84C17.5613 15.84 18.3431 15.4237 18.8213 14.7037L19.3669 13.8769L20.3344 13.9219C21.3413 13.9781 22.2469 13.4437 22.7081 12.5494C23.1694 11.655 23.0625 10.6087 22.4381 9.82125L22.4494 9.8325ZM11.7281 13.7925L12.8306 12.6506C12.8813 12.6675 12.9319 12.69 12.9825 12.7069L14.0006 12.9994L14.2931 14.0175C14.31 14.0681 14.3325 14.1188 14.3494 14.1694L12.6113 15.8512L11.7281 13.7981V13.7925ZM11.3119 17.1L9.77063 18.5906L8.94938 16.6669L10.4625 15.1031L11.3175 17.1H11.3119ZM6.8625 21.4031C6.51375 21.7406 5.94563 21.735 5.6025 21.3919C5.25938 21.0487 5.25375 20.4862 5.59125 20.1319L7.66688 17.9831L8.46563 19.845L6.85688 21.3975L6.8625 21.4031ZM21.2175 11.79C21.1613 11.9025 20.925 12.2681 20.43 12.2456L19.4175 12.195C18.855 12.1669 18.3094 12.4425 17.9944 12.915L17.4206 13.7812C17.145 14.1975 16.7175 14.1694 16.5938 14.1469C16.47 14.13 16.0538 14.0288 15.9131 13.5506L15.6094 12.4931C15.4575 11.9531 15.0413 11.5425 14.5069 11.3906L13.4494 11.0869C12.9713 10.9519 12.87 10.5356 12.8531 10.4062C12.8363 10.2769 12.8025 9.855 13.2188 9.57937L14.085 9.00562C14.5575 8.69625 14.8331 8.15062 14.805 7.5825L14.7544 6.57C14.7319 6.06938 15.0975 5.83875 15.21 5.7825C15.2719 5.74875 15.4181 5.68687 15.6038 5.68687C15.7556 5.68687 15.9356 5.73187 16.1156 5.8725L16.9425 6.53062C17.3756 6.87375 17.9719 6.975 18.495 6.78375L19.5188 6.40688C19.9856 6.23813 20.3119 6.51375 20.4019 6.60375C20.4919 6.69375 20.7675 7.02 20.5988 7.48688L20.2219 8.51062C20.0306 9.03375 20.1263 9.63 20.475 10.0631L21.1331 10.89C21.4481 11.2837 21.2794 11.6831 21.2231 11.7956L21.2175 11.79Z"
				fill="black"
			/>
		</svg>
	);
}
